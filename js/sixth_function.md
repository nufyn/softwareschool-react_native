# 6장. 함수

영어로는 function이라고 합니다.

## 6 - 1) 함수에 대해 알아보자

함수는 단 하나의 목적을 위해 만들어진 기능을 가진 독립적인 조직(블록)입니다. 
함수는 선언한 후, 필요할 때마다 호출하여 사용할 수 있으므로 활용성이 높아 많은 곳에서 활발히 사용됩니다.

>자바스크립트에서 블록이란 함수나 실행문의 중괄호({})로 묶여진 부분을 가리킵니다.

함수도 자바스크립트에서 기본적으로 제공하는 내장함수가 있고, 개발자가 직접 만들어서 사용하는 함수가 있습니다.

_* 내장 함수는 따로 정리해두었습니다._

자바스크립트에서는 함수도 하나의 타입(datatype)입니다.

따라서 함수를 변수에 대입하거나, 함수에 프로퍼티를 지정하는 것도 가능합니다.
또한, 자바스크립트 함수는 다른 함수 내에 중첩되어 정의될 수도 있습니다.

<br/>

## 6 - 2) 함수의 정의

자바스크립트에서 함수의 정의는 function 키워드로 시작되며, 다음과 같은 구성요소를 가집니다.

1. 함수의 이름
2. 괄호 안에 쉼표(,)로 구분되는 함수의 매개변수(parameter)
3. 중괄호({})로 둘러싸인 자바스크립트 실행문

함수 이름(function name)은 함수를 구분하는 식별자(identifier)입니다.

```JAVASCRIPT
// 함수의 이름, 즉 식별자가 addNum인 함수를 정의함.
// ()안이 매개변수
function addNum(x, y) {
    return x + y; // 덧셈이라는 기능을 가진 함수
}

// 호출자의 ()안이 값이 인수
document.write(addNum(2, 3)); //호출자
```

>매개변수(parameter)란 함수를 호출할 때 인수(argument)로 전달된 값을 함수 내부에서 사용할 수 있게 해주는 변수입니다.
인수(argument)란 함수가 호출될 때 함수로 값을 전달해주는 변수나 상수를 의미합니다.

_*인수와 매개변수는 개수와 순서가 매우 중요하게 적용됩니다._

<br/>

### 매개변수(parameter)

자바스크립트에서는 함수를 정의할 때는 매개변수의 타입을 따로 명시하지 않습니다.
함수를 호출할 때에도 인수(argument)로 전달된 값에 대해 어떠한 타입 검사도 하지 않습니다.
함수를 호출할 때 함수의 정의보다 적은 수의 인수가 전달되더라도, 다른 언어와는 달리 오류를 발생시키지 않습니다.
이 같은 경우 자바스크립트는 전달되지 않은 나머지 매개변수에 자동으로 undefined 값을 설정합니다.

```JAVASCRIPT
function addNum(x, y, z) { // x, y, z라는 3개의 매개변수를 가지는 함수 addNum()을 정의함.
    return x + y + z;
}

addNum(1, 2, 3); // 인수로 1, 2, 3을 전달하여 함수를 호출함. -> 6

addNum(1, 2);    // 인수로 1, 2을 전달하여 함수를 호출함. -> NaN

addNum(1);       // 인수로 1을 전달하여 함수를 호출함. -> NaN

addNum();        // 인수로 아무것도 전달하지 않고 함수를 호출함. -> NaN
```

<br/>

### arguments 객체

만약 함수의 정의보다 더 많은 수의 인수가 전달되면, 매개변수에 대입되지 못한 인수들은 참조할 방법이 없게 됩니다.

하지만 arguments 객체를 이용하면, 함수로 전달된 인수의 총 개수를 확인하거나, 각각의 인수에도 바로 접근할 수 있습니다.
arguments 객체는 함수가 호출될 때 전달된 인수를 배열의 형태로 저장하고 있습니다.

또한, 인수의 총 개수는 arguments 객체의 length 프로퍼티에 저장됩니다.

_*arguments 객체는 배열과 비슷할 뿐, 실제로 Array 객체는 아닙니다. 
숫자로 된 인덱스와 length 프로퍼티만을 가지고 있을 뿐, 모든 것을 배열처럼 다룰 수는 없습니다._

```JAVASCRIPT
function addNum() {
    var sum = 0;                                // 합을 저장할 변수 sum을 선언함.

    for(var i = 0; i < arguments.length; i++) { // 전달받은 인수의 총 수만큼 반복함.
        sum += arguments[i];                    // 전달받은 각각의 인수를 sum에 더함.
    }

    return sum;
}


addNum(1, 2, 3); // 6

addNum(1, 2);    // 3

addNum(1);       // 1

addNum();        // 0

addNum(1, 2, 3, 4, 5, 6, 7, 8, 9, 10); // 55 
// addNum() 함수는 전달받는 인수의 개수에 상관없이 언제나 정상적인 계산을 수행합니다.
```

<br/>

## 6 - 3) 값의 반환

자바스크립트에서 함수는 반환(return)문을 포함할 수 있습니다.

이러한 반환문을 통해 호출자는 함수에서 실행된 결과를 전달받을 수 있습니다.

반환문은 함수의 실행을 중단하고, return 키워드 다음에 명시된 표현식의 값을 호출자에게 반환합니다.

반환문은 배열이나 객체를 포함한 모든 타입의 값을 반환할 수 있습니다.

#### 예제 
```JAVASCRIPT
function multiNum(x, y) {
    return x * y;         // x와 y를 곱한 결과를 반환함.
}

var num = multiNum(3, 4); // multiNum() 함수가 호출된 후, 그 반환값이 변수 num에 저장됨.

document.write(num);
```

<br/>

## 6 - 4) 함수의 유효 범위(function scope)

### 전역함수

'전역 함수'는 모든 전역 변수와 전역 함수에 접근할 수 있습니다.

### 내부함수

반면, 다른 함수 내에 정의된 '내부 함수'는 그 함수의 부모 함수(parent function)에서 정의된 변수 및 부모 함수가 접근할 수 있는 다른 변수까지만 접근할 수 있습니다.

```JAVASCRIPT
// x, y, name을 전역 변수로 선언함.
var x = 10, y = 20;

// sub()를 전역 함수로 선언함.
function sub() {
    return x - y;     // 전역 변수인 x, y에 접근함.
}

document.write(sub() + "<br>");

// parentFunc()을 전역 함수로 선언함.
function parentFunc() {
    var x = 1, y = 2; // 전역 변수와 같은 이름으로 선언하여 전역 변수의 범위를 제한함.

    function add() {  // add() 함수는 내부 함수로 선언됨.
        return x + y; // 전역 변수가 아닌 지역 변수 x, y에 접근함.
    }

    return add();
}

document.write(parentFunc());
```

### 함수 호이스팅

자바스크립트 함수 안에 있는 모든 변수의 '선언'은 함수의 맨 처음으로 이동된 것처럼 동작합니다.

#### 함수 호이스팅 예제
```JAVASCRIPT
var globalNum = 10;     // globalNum을 전역 변수로 선언함.

function printNum() {
    document.write("지역 변수 globalNum 선언 전의 globalNum의 값은 " + globalNum + "입니다.<br>"); //둘의 값이 서로 다를까?

    var globalNum = 20; // globalNum을 지역 변수로 선언함

    document.write("지역 변수 globalNum 선언 후의 globalNum의 값은 " + globalNum + "입니다.<br>"); //둘의 값이 서로 같을까?
}

printNum();
```

>자바스크립트에서는 함수 호이스팅이 자동으로 수행되지만, 항상 함수 블록의 첫 부분에 변수를 선언하는 것이 좋습니다.

***
